<!DOCTYPE html>
<html xmlns:th="http://thymeleaf.org">

<head th:include = "_template :: head"></head>
<head>
	<meta charset="UTF-8">
	<link href="https://fonts.googleapis.com/css2?family=Patrick+Hand&family=Risque&display=swap" rel="stylesheet">
	<link rel="stylesheet" type="text/css" th:href="@{~/css/listAll.css}">
</head>

<body>

	<header th:include = "_template :: menuHeader"></header>
		
	<h1 class="text-center title">Lista de Produtos</h1>
	
	<div class="content m-5">	
		<table class="table">
		  <thead>
		    <tr>
		    	<th scope="col"></th>
		    	<th scope="col" class="borderStyle">Qtd</th>
		      	<th scope="col" class="borderStyle">Nome</th>
		      	<th scope="col" class="borderStyle">Data de Validade</th>
		      	<th scope="col">Ações</th>
		    </tr>
		  </thead>
		  <tbody>
		    <tr th:each="product: ${products}">
		    	  <td class="align-middle col-md-2">
		    	  	<a th:href="@{/product/consume/{id}(id=${product.getId})}"><div class="checkButton"><img src="../../img/check.png" class="iconCheck"></div></a>
		    	  </td>
			      <td th:text="${product.getQuantity}" class="align-middle col-md-2 borderStyle"></td>
			      <td th:text="${product.getName}" class="align-middle col-md-2 borderStyle"></td>
			      <td th:text="${#dates.format(product.getExpirationDate, 'dd-MM-yyyy')}" class="align-middle col-md-2 borderStyle"></td>
			      <td class="align-middle col-md-2 d-flex flex-row">
			      	<a th:href="@{/product/update/{id}(id=${product.getId})}"><div class="editButton"><img src="../../img/edit.png" class="iconEdit"></div></a>
			      	<a th:href="@{/product/delete/{id}(id=${product.getId})}"><div class="deleteButton"><img src="../../img/trash.png" class="iconDelete"></div></a>
			      </td>
		   </tr>
		  </tbody>
		</table>
		
		<nav aria-label="Page navigation example">
		  <ul class="pagination justify-content-center" th:each="i : ${#numbers.sequence(1, products.getTotalPages)}">
		    <li class="page-item"><a class="page-link" th:href="@{/product(page=${i-1})}" th:text="${i}"></a></li>
		  </ul>
		</nav>
	</div>

	<div th:include = "_template :: scriptBootstrap"></div>

</body>
</html>